<html lang="en">
<head>
<title>fgetws - Untitled</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Untitled">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Stdio.html#Stdio" title="Stdio">
<link rel="prev" href="fgetwc.html#fgetwc" title="fgetwc">
<link rel="next" href="fileno.html#fileno" title="fileno">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="fgetws"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="fileno.html#fileno">fileno</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="fgetwc.html#fgetwc">fgetwc</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Stdio.html#Stdio">Stdio</a>
<hr>
</div>

<h3 class="section">4.14 <code>fgetws</code>, <code>fgetws_unlocked</code>&mdash;get wide character string from a file or stream</h3>

<p><a name="index-fgetws-193"></a><a name="index-fgetws_005funlocked-194"></a><a name="index-g_t_005ffgetws_005fr-195"></a><a name="index-g_t_005ffgetws_005funlocked_005fr-196"></a><strong>Synopsis</strong>
<pre class="example">     #include &lt;wchar.h&gt;
     wchar_t *fgetws(wchar_t *__restrict <var>ws</var>, int <var>n</var>,
         FILE *__restrict <var>fp</var>);
     
     #define _GNU_SOURCE
     #include &lt;wchar.h&gt;
     wchar_t *fgetws_unlocked(wchar_t *__restrict <var>ws</var>, int <var>n</var>,
         FILE *__restrict <var>fp</var>);
     
     #include &lt;wchar.h&gt;
     wchar_t *_fgetws_r(struct _reent *<var>ptr</var>, wchar_t *<var>ws</var>,
         int <var>n</var>, FILE *<var>fp</var>);
     
     #include &lt;wchar.h&gt;
     wchar_t *_fgetws_unlocked_r(struct _reent *<var>ptr</var>, wchar_t *<var>ws</var>,
         int <var>n</var>, FILE *<var>fp</var>);
     
</pre>
   <p><strong>Description</strong><br>
Reads at most <var>n-1</var> wide characters from <var>fp</var> until a newline
is found. The wide characters including to the newline are stored
in <var>ws</var>. The buffer is terminated with a 0.

   <p><code>fgetws_unlocked</code> is a non-thread-safe version of <code>fgetws</code>. 
<code>fgetws_unlocked</code> may only safely be used within a scope
protected by flockfile() (or ftrylockfile()) and funlockfile().  This
function may safely be used in a multi-threaded program if and only
if they are called while the invoking thread owns the (FILE *)
object, as is the case after a successful call to the flockfile() or
ftrylockfile() functions.  If threads are disabled, then
<code>fgetws_unlocked</code> is equivalent to <code>fgetws</code>.

   <p>The <code>_fgetws_r</code> and <code>_fgetws_unlocked_r</code> functions are simply reentrant
version of the above and are passed an additional reentrancy structure
pointer: <var>ptr</var>.

   <pre class="sp">

</pre>
<strong>Returns</strong><br>
<code>fgetws</code> returns the buffer passed to it, with the data
filled in. If end of file occurs with some data already
accumulated, the data is returned with no other indication. If
no data are read, NULL is returned instead.

   <pre class="sp">

</pre>
<strong>Portability</strong><br>
<code>fgetws</code> is required by C99 and POSIX.1-2001.

   <p><code>fgetws_unlocked</code> is a GNU extension.

   <pre class="sp">

</pre>

   </body></html>

